{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile in the system.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The user's full name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile picture."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the user account was created."
        },
        "role": {
          "type": "string",
          "enum": [
            "admin",
            "etudiant",
            "formateur"
          ],
          "description": "The role of the user in the system."
        },
        "paysOrigine": {
          "type": "string",
          "description": "The user's country of origin."
        },
        "paysActuel": {
          "type": "string",
          "description": "The user's current country of residence."
        },
        "bio": {
          "type": "string",
          "description": "A short biography or description written by the user."
        },
        "skills": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of skills the user has."
        }
      },
      "required": [
        "name",
        "email",
        "createdAt",
        "role",
        "paysOrigine",
        "paysActuel"
      ]
    },
    "InstructorProfile": {
        "title": "Instructor Profile",
        "description": "Extends UserProfile with instructor-specific fields.",
        "type": "object",
        "allOf": [{ "$ref": "#/entities/UserProfile" }],
        "properties": {
            "specialite": {
                "type": "string",
                "description": "The instructor's area of specialization."
            },
            "headline": {
                "type": "string",
                "description": "A professional headline for the instructor."
            }
        }
    },
    "Course": {
      "title": "Course",
      "description": "Represents a course on the platform.",
      "type": "object",
      "properties": {
        "titre": {
          "type": "string"
        },
        "categorie": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "image": {
          "type": "string",
          "format": "uri"
        },
        "niveau": {
          "type": "string",
          "enum": [
            "Débutant",
            "Intermédiaire",
            "Avancé"
          ]
        },
        "langue": {
          "type": "string"
        },
        "prix": {
          "type": "number"
        },
        "date_creation": {
          "type": "string",
          "format": "date-time"
        },
        "publie": {
          "type": "boolean"
        },
        "auteur": {
          "type": "string"
        },
        "instructorId": {
            "type": "string",
            "description": "The UID of the instructor who created the course."
        },
        "statut": {
            "type": "string",
            "enum": ["en_attente", "approuvee", "rejetee"],
            "description": "The validation status of the course."
        },
        "dateValidation": {
            "type": "string",
            "format": "date-time",
            "description": "The timestamp when the course was validated."
        },
        "motifRejet": {
            "type": "string",
            "description": "The reason why the course was rejected."
        }
      },
      "required": [
        "titre",
        "categorie",
        "description",
        "niveau",
        "prix",
        "date_creation",
        "publie",
        "auteur",
        "instructorId",
        "statut"
      ]
    },
    "Module": {
        "title": "Module",
        "description": "Represents a module within a course.",
        "type": "object",
        "properties": {
            "titre": { "type": "string" },
            "description": { "type": "string" },
            "ordre": { "type": "number" }
        }
    },
    "Video": {
        "title": "Video",
        "description": "Represents a video within a module.",
        "type": "object",
        "properties": {
            "titre": { "type": "string" },
            "url": { "type": "string", "format": "uri" },
            "ordre": { "type": "number" }
        }
    },
    "CourseProgress": {
      "title": "Course Progress",
      "description": "Tracks a user's progress in a specific course.",
      "type": "object",
      "properties": {
        "courseId": {
          "type": "string",
          "description": "The ID of the course."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user."
        },
        "progressPercentage": {
          "type": "number",
          "description": "The completion percentage of the course."
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the progress was last updated."
        },
        "courseTitle": {
          "type": "string",
          "description": "The title of the course, denormalized for easy display."
        }
      },
      "required": [
        "courseId",
        "userId",
        "progressPercentage",
        "lastUpdated",
        "courseTitle"
      ]
    },
     "Enrollment": {
      "title": "Enrollment",
      "description": "Represents a student's enrollment in a course.",
      "type": "object",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "The UID of the enrolled student."
        },
        "studentName": {
            "type": "string",
            "description": "The name of the student for easy display."
        },
        "courseId": {
          "type": "string",
          "description": "The ID of the course."
        },
        "courseTitle": {
            "type": "string",
            "description": "The title of the course for easy display."
        },
        "enrollmentDate": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of the enrollment."
        }
      },
      "required": ["studentId", "studentName", "courseId", "courseTitle", "enrollmentDate"]
    },
    "Donation": {
      "title": "Donation",
      "description": "Represents a donation made on the platform.",
      "type": "object",
      "properties": {
        "donateurId": {
          "type": "string",
          "description": "The UID of the user who made the donation."
        },
        "donateurNom": {
          "type": "string",
          "description": "The name of the donor."
        },
        "donateurEmail": {
          "type": "string",
          "format": "email",
          "description": "The email of the donor."
        },
        "montant": {
          "type": "number",
          "description": "The amount of the donation."
        },
        "devise": {
          "type": "string",
          "description": "The currency of the donation (e.g., EUR, XAF)."
        },
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of the donation."
        },
        "statut": {
          "type": "string",
          "enum": ["succes", "en_attente", "echec"],
          "description": "The status of the donation transaction."
        },
        "moyenPaiement": {
          "type": "string",
          "enum": ["carte", "mobile_money", "inconnu"],
          "description": "The payment method used for the donation."
        },
        "paysOrigine": {
          "type": "string",
          "description": "The country of origin of the donor."
        }
      },
      "required": ["donateurId", "donateurNom", "donateurEmail", "montant", "devise", "date", "statut"]
    }
  },
  "auth": {
    "providers": [
      "email"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores public profile information for each user."
    },
    "/instructors/{instructorId}": {
        "schema": { "$ref": "#/entities/InstructorProfile" },
        "description": "Stores public profile information for each instructor."
    },
    "/courses/{courseId}": {
      "schema": {
        "$ref": "#/entities/Course"
      },
      "description": "Stores all the available courses on the platform."
    },
     "/courses/{courseId}/modules/{moduleId}": {
      "schema": { "$ref": "#/entities/Module" },
      "description": "Stores all modules for a specific course."
    },
    "/courses/{courseId}/modules/{moduleId}/videos/{videoId}": {
      "schema": { "$ref": "#/entities/Video" },
      "description": "Stores all videos for a specific module."
    },
    "/users/{userId}/progress/{progressId}": {
      "schema": {
        "$ref": "#/entities/CourseProgress"
      },
      "description": "Stores the learning progress for each user on different courses."
    },
    "/courses/{courseId}/enrollments/{enrollmentId}": {
        "schema": { "$ref": "#/entities/Enrollment" },
        "description": "Stores all enrollments for a specific course."
    },
    "/donations/{donationId}": {
        "schema": { "$ref": "#/entities/Donation" },
        "description": "Stores all donations made on the platform."
    }
  }
}
